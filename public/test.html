<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spinning Prize Wheel</title>
  <style>
    #wheel-container {
      position: relative;
      margin: 50px;
    }

    #wheel {
      width: 300px;
      height: 300px;
      background: conic-gradient(
        #ff0000 0% 9.09%,       /* Red */
        #ff4500 9.09% 18.18%,    /* Red-Orange */
        #ffa500 18.18% 27.27%,   /* Orange */
        #ffff00 27.27% 36.36%,   /* Yellow */
        #008000 36.36% 45.45%,   /* Green */
        #00cc66 45.45% 54.54%,   /* Shade of Green added */
        #0000ff 54.54% 63.63%,   /* Blue */
        #00ffff 63.63% 72.72%,   /* Cyan */
        #4b0082 72.72% 81.81%,   /* Indigo */
        #8b00ff 81.81% 90.9%,    /* Violet */
        #ff00ff 90.9% 100%       /* Magenta */
      );
      border-radius: 50%;
      position: absolute;
      transform-origin: 50% 50%;
      transition: transform 0.5s linear; /* Smooth animation transition */
    }

    @keyframes spin {
      from {
        transform: rotate(0deg); /* Start from 0 degrees */
      }
      to {
        transform: rotate(360deg); /* Full rotation in 3 seconds */
      }
    }

    button {
      margin-top: 20px;
    }
  </style>
</head>
<body>

<div id="wheel-container">
  <div id="wheel"></div>
</div>

<button onclick="startSpin()">Start</button>
<button onclick="stopSpin()">Stop</button>

<script>
  const wheel = document.getElementById('wheel');
  const spinButton = document.querySelectorAll('button')[0];
  const stopButton = document.querySelectorAll('button')[1];
  let spinning = false;
  let currentRotation = 0;

  function startSpin() {
    if (!spinning) {
      spinning = true;
      spinButton.disabled = true;
      stopButton.disabled = false;

      wheel.style.animation = 'spin 1s linear infinite'; // Start spinning animation
    }
  }

  function stopSpin() {
    if (spinning) {
      spinning = false;
      spinButton.disabled = false;
      stopButton.disabled = true;

      const computedStyle = window.getComputedStyle(wheel);
      const transformValue = computedStyle.getPropertyValue('transform');
      const matrix = transformValue.match(/matrix\((.+)\)/);
      
      if (matrix) {
        const matrixValues = matrix[1].split(', ');
        const angle = Math.round(Math.atan2(parseFloat(matrixValues[1]), parseFloat(matrixValues[0])) * (180/Math.PI));
        currentRotation = (angle < 0) ? angle + 360 : angle; // Convert to positive angle
      }

      wheel.style.animation = 'none'; // Stop spinning animation
      wheel.style.transform = `rotate(${currentRotation}deg)`; // Set current rotation angle
    }
  }
</script>

</body>
</html>
